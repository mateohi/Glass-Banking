package uy.infocorp.banking.glass.integration.privateapi.messaging;

import org.apache.http.Header;
import org.apache.http.message.BasicHeader;

import java.io.UnsupportedEncodingException;
import java.util.Arrays;
import java.util.List;

import uy.infocorp.banking.glass.integration.Constants;
import uy.infocorp.banking.glass.integration.privateapi.PrivateUrls;
import uy.infocorp.banking.glass.integration.privateapi.common.dto.framework.messaging.Message;
import uy.infocorp.banking.glass.util.http.HttpUtils;
import uy.infocorp.banking.glass.util.http.RestExecutionBuilder;

public class MessagingClient {

    private static final String TAG = MessagingClient.class.getSimpleName();
    private static final String X_AUTH_TOKEN_HEADER_NAME = "X-Auth-Token";

    private static MessagingClient instance;
    private RestExecutionBuilder builder;

    private MessagingClient() {
        builder = RestExecutionBuilder.get(PrivateUrls.GET_INBOX_MESSAGES_URL);
    }

    public static MessagingClient instance() {
        if (instance == null) {
            instance = new MessagingClient();
        }
        return instance;
    }

    public List<Message> getInboxMessages(String authToken) throws UnsupportedEncodingException {
        if(Constants.OFFLINE_MODE){//test
            String data = test();
            Message[] messageList = HttpUtils.typeFromStringData(data, Message[].class);
            return Arrays.asList(messageList);
        }
        Header tokenHeader = new BasicHeader(X_AUTH_TOKEN_HEADER_NAME, authToken);

        Message[] messageList = builder.appendHeader(tokenHeader).execute(Message[].class);

        return Arrays.asList(messageList);
    }

    public String test(){
        return "{\"items\":[{\"bodyMetadata\":{\"extendedProperties\":{\"productNumber\":\"003106853222\",\"availableBalance\":891272.90},\"fullQualifiedName\":\"Infocorp.Framework.BusinessEntities.Messaging.MessageMetadata, Infocorp.Framework.BusinessEntities, Version=1.0.0.0, Culture=neutral, PublicKeyToken=f43e0188197ab34e\",\"knownTypes\":[\"Infocorp.Framework.BusinessEntities.Messaging.BaseMetadata, Infocorp.Framework.BusinessEntities, Version=1.0.0.0, Culture=neutral, PublicKeyToken=f43e0188197ab34e\"]},\"creationDate\":\"2014-10-06T07:22:09.67Z\",\"isImportant\":false,\"messageId\":2440,\"messageStatus\":\"read\",\"templateName\":\"AccountBalanceNotification\"},{\"bodyMetadata\":{\"extendedProperties\":{\"productNumber\":\"003106853222\",\"availableBalance\":50483.98},\"fullQualifiedName\":\"Infocorp.Framework.BusinessEntities.Messaging.MessageMetadata, Infocorp.Framework.BusinessEntities, Version=1.0.0.0, Culture=neutral, PublicKeyToken=f43e0188197ab34e\",\"knownTypes\":[\"Infocorp.Framework.BusinessEntities.Messaging.BaseMetadata, Infocorp.Framework.BusinessEntities, Version=1.0.0.0, Culture=neutral, PublicKeyToken=f43e0188197ab34e\"]},\"creationDate\":\"2014-10-07T09:43:05.59Z\",\"isImportant\":false,\"messageId\":2443,\"messageStatus\":\"read\",\"templateName\":\"AccountBalanceNotification\"},{\"bodyMetadata\":{\"extendedProperties\":{\"productNumber\":\"003106853222\",\"availableBalance\":50650.64},\"fullQualifiedName\":\"Infocorp.Framework.BusinessEntities.Messaging.MessageMetadata, Infocorp.Framework.BusinessEntities, Version=1.0.0.0, Culture=neutral, PublicKeyToken=f43e0188197ab34e\",\"knownTypes\":[\"Infocorp.Framework.BusinessEntities.Messaging.BaseMetadata, Infocorp.Framework.BusinessEntities, Version=1.0.0.0, Culture=neutral, PublicKeyToken=f43e0188197ab34e\"]},\"creationDate\":\"2014-10-08T07:21:27.45Z\",\"isImportant\":false,\"messageId\":2451,\"messageStatus\":\"read\",\"templateName\":\"AccountBalanceNotification\"},{\"bodyMetadata\":{\"extendedProperties\":{\"productNumber\":\"003106853222\",\"availableBalance\":50650.64},\"fullQualifiedName\":\"Infocorp.Framework.BusinessEntities.Messaging.MessageMetadata, Infocorp.Framework.BusinessEntities, Version=1.0.0.0, Culture=neutral, PublicKeyToken=f43e0188197ab34e\",\"knownTypes\":[\"Infocorp.Framework.BusinessEntities.Messaging.BaseMetadata, Infocorp.Framework.BusinessEntities, Version=1.0.0.0, Culture=neutral, PublicKeyToken=f43e0188197ab34e\"]},\"creationDate\":\"2014-10-09T07:21:30.53Z\",\"isImportant\":false,\"messageId\":2453,\"messageStatus\":\"read\",\"templateName\":\"AccountBalanceNotification\"},{\"bodyMetadata\":{\"extendedProperties\":{\"productNumber\":\"003106853222\",\"availableBalance\":50650.64},\"fullQualifiedName\":\"Infocorp.Framework.BusinessEntities.Messaging.MessageMetadata, Infocorp.Framework.BusinessEntities, Version=1.0.0.0, Culture=neutral, PublicKeyToken=f43e0188197ab34e\",\"knownTypes\":[\"Infocorp.Framework.BusinessEntities.Messaging.BaseMetadata, Infocorp.Framework.BusinessEntities, Version=1.0.0.0, Culture=neutral, PublicKeyToken=f43e0188197ab34e\"]},\"creationDate\":\"2014-10-10T11:09:25.513Z\",\"isImportant\":false,\"messageId\":2455,\"messageStatus\":\"read\",\"templateName\":\"AccountBalanceNotification\"},{\"bodyMetadata\":{\"extendedProperties\":{\"productNumber\":\"003106853222\",\"availableBalance\":50650.64},\"fullQualifiedName\":\"Infocorp.Framework.BusinessEntities.Messaging.MessageMetadata, Infocorp.Framework.BusinessEntities, Version=1.0.0.0, Culture=neutral, PublicKeyToken=f43e0188197ab34e\",\"knownTypes\":[\"Infocorp.Framework.BusinessEntities.Messaging.BaseMetadata, Infocorp.Framework.BusinessEntities, Version=1.0.0.0, Culture=neutral, PublicKeyToken=f43e0188197ab34e\"]},\"creationDate\":\"2014-10-13T11:09:33.7Z\",\"isImportant\":false,\"messageId\":2457,\"messageStatus\":\"read\",\"templateName\":\"AccountBalanceNotification\"},{\"bodyMetadata\":{\"extendedProperties\":{\"productNumber\":\"003106853222\",\"availableBalance\":50650.64},\"fullQualifiedName\":\"Infocorp.Framework.BusinessEntities.Messaging.MessageMetadata, Infocorp.Framework.BusinessEntities, Version=1.0.0.0, Culture=neutral, PublicKeyToken=f43e0188197ab34e\",\"knownTypes\":[\"Infocorp.Framework.BusinessEntities.Messaging.BaseMetadata, Infocorp.Framework.BusinessEntities, Version=1.0.0.0, Culture=neutral, PublicKeyToken=f43e0188197ab34e\"]},\"creationDate\":\"2014-10-14T11:09:37.873Z\",\"isImportant\":false,\"messageId\":2459,\"messageStatus\":\"read\",\"templateName\":\"AccountBalanceNotification\"},{\"bodyMetadata\":{\"extendedProperties\":{\"productNumber\":\"003106853222\",\"availableBalance\":50650.64},\"fullQualifiedName\":\"Infocorp.Framework.BusinessEntities.Messaging.MessageMetadata, Infocorp.Framework.BusinessEntities, Version=1.0.0.0, Culture=neutral, PublicKeyToken=f43e0188197ab34e\",\"knownTypes\":[\"Infocorp.Framework.BusinessEntities.Messaging.BaseMetadata, Infocorp.Framework.BusinessEntities, Version=1.0.0.0, Culture=neutral, PublicKeyToken=f43e0188197ab34e\"]},\"creationDate\":\"2014-10-15T11:09:30.937Z\",\"isImportant\":false,\"messageId\":2461,\"messageStatus\":\"read\",\"templateName\":\"AccountBalanceNotification\"},{\"bodyMetadata\":{\"extendedProperties\":{\"productNumber\":\"003106853222\",\"availableBalance\":50650.64},\"fullQualifiedName\":\"Infocorp.Framework.BusinessEntities.Messaging.MessageMetadata, Infocorp.Framework.BusinessEntities, Version=1.0.0.0, Culture=neutral, PublicKeyToken=f43e0188197ab34e\",\"knownTypes\":[\"Infocorp.Framework.BusinessEntities.Messaging.BaseMetadata, Infocorp.Framework.BusinessEntities, Version=1.0.0.0, Culture=neutral, PublicKeyToken=f43e0188197ab34e\"]},\"creationDate\":\"2014-10-16T11:09:29.2Z\",\"isImportant\":false,\"messageId\":2463,\"messageStatus\":\"read\",\"templateName\":\"AccountBalanceNotification\"},{\"bodyMetadata\":{\"extendedProperties\":{\"productNumber\":\"003106853222\",\"availableBalance\":5511.65},\"fullQualifiedName\":\"Infocorp.Framework.BusinessEntities.Messaging.MessageMetadata, Infocorp.Framework.BusinessEntities, Version=1.0.0.0, Culture=neutral, PublicKeyToken=f43e0188197ab34e\",\"knownTypes\":[\"Infocorp.Framework.BusinessEntities.Messaging.BaseMetadata, Infocorp.Framework.BusinessEntities, Version=1.0.0.0, Culture=neutral, PublicKeyToken=f43e0188197ab34e\"]},\"creationDate\":\"2014-10-20T11:09:35.5Z\",\"isImportant\":false,\"messageId\":2467,\"messageStatus\":\"read\",\"templateName\":\"AccountBalanceNotification\"},{\"bodyMetadata\":{\"extendedProperties\":{\"productNumber\":\"003106853222\",\"availableBalance\":5501.65},\"fullQualifiedName\":\"Infocorp.Framework.BusinessEntities.Messaging.MessageMetadata, Infocorp.Framework.BusinessEntities, Version=1.0.0.0, Culture=neutral, PublicKeyToken=f43e0188197ab34e\",\"knownTypes\":[\"Infocorp.Framework.BusinessEntities.Messaging.BaseMetadata, Infocorp.Framework.BusinessEntities, Version=1.0.0.0, Culture=neutral, PublicKeyToken=f43e0188197ab34e\"]},\"creationDate\":\"2014-10-21T11:11:57.28Z\",\"isImportant\":false,\"messageId\":2469,\"messageStatus\":\"read\",\"templateName\":\"AccountBalanceNotification\"},{\"bodyMetadata\":{\"extendedProperties\":{\"productNumber\":\"003106853222\",\"availableBalance\":5070.14},\"fullQualifiedName\":\"Infocorp.Framework.BusinessEntities.Messaging.MessageMetadata, Infocorp.Framework.BusinessEntities, Version=1.0.0.0, Culture=neutral, PublicKeyToken=f43e0188197ab34e\",\"knownTypes\":[\"Infocorp.Framework.BusinessEntities.Messaging.BaseMetadata, Infocorp.Framework.BusinessEntities, Version=1.0.0.0, Culture=neutral, PublicKeyToken=f43e0188197ab34e\"]},\"creationDate\":\"2014-10-22T11:18:06.92Z\",\"isImportant\":false,\"messageId\":2471,\"messageStatus\":\"read\",\"templateName\":\"AccountBalanceNotification\"},{\"bodyMetadata\":{\"extendedProperties\":{\"productNumber\":\"003106853222\",\"availableBalance\":4477.38},\"fullQualifiedName\":\"Infocorp.Framework.BusinessEntities.Messaging.MessageMetadata, Infocorp.Framework.BusinessEntities, Version=1.0.0.0, Culture=neutral, PublicKeyToken=f43e0188197ab34e\",\"knownTypes\":[\"Infocorp.Framework.BusinessEntities.Messaging.BaseMetadata, Infocorp.Framework.BusinessEntities, Version=1.0.0.0, Culture=neutral, PublicKeyToken=f43e0188197ab34e\"]},\"creationDate\":\"2014-10-23T11:18:07.543Z\",\"isImportant\":false,\"messageId\":2474,\"messageStatus\":\"read\",\"templateName\":\"AccountBalanceNotification\"},{\"bodyMetadata\":{\"extendedProperties\":{\"productNumber\":\"003106853222\",\"availableBalance\":4477.38},\"fullQualifiedName\":\"Infocorp.Framework.BusinessEntities.Messaging.MessageMetadata, Infocorp.Framework.BusinessEntities, Version=1.0.0.0, Culture=neutral, PublicKeyToken=f43e0188197ab34e\",\"knownTypes\":[\"Infocorp.Framework.BusinessEntities.Messaging.BaseMetadata, Infocorp.Framework.BusinessEntities, Version=1.0.0.0, Culture=neutral, PublicKeyToken=f43e0188197ab34e\"]},\"creationDate\":\"2014-10-24T11:18:07.56Z\",\"isImportant\":false,\"messageId\":2477,\"messageStatus\":\"read\",\"templateName\":\"AccountBalanceNotification\"},{\"bodyMetadata\":{\"extendedProperties\":{\"productNumber\":\"003106853222\",\"availableBalance\":5085.38},\"fullQualifiedName\":\"Infocorp.Framework.BusinessEntities.Messaging.MessageMetadata, Infocorp.Framework.BusinessEntities, Version=1.0.0.0, Culture=neutral, PublicKeyToken=f43e0188197ab34e\",\"knownTypes\":[\"Infocorp.Framework.BusinessEntities.Messaging.BaseMetadata, Infocorp.Framework.BusinessEntities, Version=1.0.0.0, Culture=neutral, PublicKeyToken=f43e0188197ab34e\"]},\"creationDate\":\"2014-10-27T11:18:06.56Z\",\"isImportant\":false,\"messageId\":2480,\"messageStatus\":\"read\",\"templateName\":\"AccountBalanceNotification\"},{\"bodyMetadata\":{\"extendedProperties\":{\"productNumber\":\"003106853222\",\"availableBalance\":5087.38},\"fullQualifiedName\":\"Infocorp.Framework.BusinessEntities.Messaging.MessageMetadata, Infocorp.Framework.BusinessEntities, Version=1.0.0.0, Culture=neutral, PublicKeyToken=f43e0188197ab34e\",\"knownTypes\":[\"Infocorp.Framework.BusinessEntities.Messaging.BaseMetadata, Infocorp.Framework.BusinessEntities, Version=1.0.0.0, Culture=neutral, PublicKeyToken=f43e0188197ab34e\"]},\"creationDate\":\"2014-10-28T11:18:07.53Z\",\"isImportant\":false,\"messageId\":2483,\"messageStatus\":\"read\",\"templateName\":\"AccountBalanceNotification\"},{\"bodyMetadata\":{\"extendedProperties\":{\"productNumber\":\"003106853222\",\"availableBalance\":5905.63},\"fullQualifiedName\":\"Infocorp.Framework.BusinessEntities.Messaging.MessageMetadata, Infocorp.Framework.BusinessEntities, Version=1.0.0.0, Culture=neutral, PublicKeyToken=f43e0188197ab34e\",\"knownTypes\":[\"Infocorp.Framework.BusinessEntities.Messaging.BaseMetadata, Infocorp.Framework.BusinessEntities, Version=1.0.0.0, Culture=neutral, PublicKeyToken=f43e0188197ab34e\"]},\"creationDate\":\"2014-10-29T13:15:36.043Z\",\"isImportant\":false,\"messageId\":2486,\"messageStatus\":\"read\",\"templateName\":\"AccountBalanceNotification\"},{\"bodyMetadata\":{\"extendedProperties\":{\"productNumber\":\"003106853222\",\"availableBalance\":5835.94},\"fullQualifiedName\":\"Infocorp.Framework.BusinessEntities.Messaging.MessageMetadata, Infocorp.Framework.BusinessEntities, Version=1.0.0.0, Culture=neutral, PublicKeyToken=f43e0188197ab34e\",\"knownTypes\":[\"Infocorp.Framework.BusinessEntities.Messaging.BaseMetadata, Infocorp.Framework.BusinessEntities, Version=1.0.0.0, Culture=neutral, PublicKeyToken=f43e0188197ab34e\"]},\"creationDate\":\"2014-10-31T11:19:05.467Z\",\"isImportant\":false,\"messageId\":2489,\"messageStatus\":\"read\",\"templateName\":\"AccountBalanceNotification\"},{\"bodyMetadata\":{\"extendedProperties\":{\"productNumber\":\"003106853222\",\"availableBalance\":5835.94},\"fullQualifiedName\":\"Infocorp.Framework.BusinessEntities.Messaging.MessageMetadata, Infocorp.Framework.BusinessEntities, Version=1.0.0.0, Culture=neutral, PublicKeyToken=f43e0188197ab34e\",\"knownTypes\":[\"Infocorp.Framework.BusinessEntities.Messaging.BaseMetadata, Infocorp.Framework.BusinessEntities, Version=1.0.0.0, Culture=neutral, PublicKeyToken=f43e0188197ab34e\"]},\"creationDate\":\"2014-11-03T11:19:04.403Z\",\"isImportant\":false,\"messageId\":2492,\"messageStatus\":\"read\",\"templateName\":\"AccountBalanceNotification\"},{\"bodyMetadata\":{\"extendedProperties\":{\"productNumber\":\"003106853222\",\"availableBalance\":5835.94},\"fullQualifiedName\":\"Infocorp.Framework.BusinessEntities.Messaging.MessageMetadata, Infocorp.Framework.BusinessEntities, Version=1.0.0.0, Culture=neutral, PublicKeyToken=f43e0188197ab34e\",\"knownTypes\":[\"Infocorp.Framework.BusinessEntities.Messaging.BaseMetadata, Infocorp.Framework.BusinessEntities, Version=1.0.0.0, Culture=neutral, PublicKeyToken=f43e0188197ab34e\"]},\"creationDate\":\"2014-11-04T11:19:11.34Z\",\"isImportant\":false,\"messageId\":2495,\"messageStatus\":\"sent\",\"templateName\":\"AccountBalanceNotification\"},{\"bodyMetadata\":{\"extendedProperties\":{\"productNumber\":\"003106853222\",\"availableBalance\":5835.94},\"fullQualifiedName\":\"Infocorp.Framework.BusinessEntities.Messaging.MessageMetadata, Infocorp.Framework.BusinessEntities, Version=1.0.0.0, Culture=neutral, PublicKeyToken=f43e0188197ab34e\",\"knownTypes\":[\"Infocorp.Framework.BusinessEntities.Messaging.BaseMetadata, Infocorp.Framework.BusinessEntities, Version=1.0.0.0, Culture=neutral, PublicKeyToken=f43e0188197ab34e\"]},\"creationDate\":\"2014-11-05T11:19:17.89Z\",\"isImportant\":false,\"messageId\":2498,\"messageStatus\":\"sent\",\"templateName\":\"AccountBalanceNotification\"},{\"bodyMetadata\":{\"extendedProperties\":{\"productNumber\":\"003106853222\",\"availableBalance\":5835.94},\"fullQualifiedName\":\"Infocorp.Framework.BusinessEntities.Messaging.MessageMetadata, Infocorp.Framework.BusinessEntities, Version=1.0.0.0, Culture=neutral, PublicKeyToken=f43e0188197ab34e\",\"knownTypes\":[\"Infocorp.Framework.BusinessEntities.Messaging.BaseMetadata, Infocorp.Framework.BusinessEntities, Version=1.0.0.0, Culture=neutral, PublicKeyToken=f43e0188197ab34e\"]},\"creationDate\":\"2014-11-06T11:19:06.513Z\",\"isImportant\":false,\"messageId\":2501,\"messageStatus\":\"sent\",\"templateName\":\"AccountBalanceNotification\"},{\"bodyMetadata\":{\"extendedProperties\":{\"productNumber\":\"008008698210\",\"availableBalance\":17707.24},\"fullQualifiedName\":\"Infocorp.Framework.BusinessEntities.Messaging.MessageMetadata, Infocorp.Framework.BusinessEntities, Version=1.0.0.0, Culture=neutral, PublicKeyToken=f43e0188197ab34e\",\"knownTypes\":[\"Infocorp.Framework.BusinessEntities.Messaging.BaseMetadata, Infocorp.Framework.BusinessEntities, Version=1.0.0.0, Culture=neutral, PublicKeyToken=f43e0188197ab34e\"]},\"creationDate\":\"2014-11-06T11:19:08.75Z\",\"isImportant\":false,\"messageId\":2502,\"messageStatus\":\"sent\",\"templateName\":\"LoanBalanceNotification\"},{\"bodyMetadata\":{\"extendedProperties\":{\"productNumber\":\"003106853222\",\"availableBalance\":5720.94},\"fullQualifiedName\":\"Infocorp.Framework.BusinessEntities.Messaging.MessageMetadata, Infocorp.Framework.BusinessEntities, Version=1.0.0.0, Culture=neutral, PublicKeyToken=f43e0188197ab34e\",\"knownTypes\":[\"Infocorp.Framework.BusinessEntities.Messaging.BaseMetadata, Infocorp.Framework.BusinessEntities, Version=1.0.0.0, Culture=neutral, PublicKeyToken=f43e0188197ab34e\"]},\"creationDate\":\"2014-11-07T11:19:06.217Z\",\"isImportant\":false,\"messageId\":2505,\"messageStatus\":\"sent\",\"templateName\":\"AccountBalanceNotification\"},{\"bodyMetadata\":{\"extendedProperties\":{\"productNumber\":\"003106853222\",\"availableBalance\":5720.94},\"fullQualifiedName\":\"Infocorp.Framework.BusinessEntities.Messaging.MessageMetadata, Infocorp.Framework.BusinessEntities, Version=1.0.0.0, Culture=neutral, PublicKeyToken=f43e0188197ab34e\",\"knownTypes\":[\"Infocorp.Framework.BusinessEntities.Messaging.BaseMetadata, Infocorp.Framework.BusinessEntities, Version=1.0.0.0, Culture=neutral, PublicKeyToken=f43e0188197ab34e\"]},\"creationDate\":\"2014-11-10T11:19:04.983Z\",\"isImportant\":false,\"messageId\":2514,\"messageStatus\":\"sent\",\"templateName\":\"AccountBalanceNotification\"},{\"bodyMetadata\":{\"extendedProperties\":{\"productNumber\":\"003106853222\",\"availableBalance\":5706.94},\"fullQualifiedName\":\"Infocorp.Framework.BusinessEntities.Messaging.MessageMetadata, Infocorp.Framework.BusinessEntities, Version=1.0.0.0, Culture=neutral, PublicKeyToken=f43e0188197ab34e\",\"knownTypes\":[\"Infocorp.Framework.BusinessEntities.Messaging.BaseMetadata, Infocorp.Framework.BusinessEntities, Version=1.0.0.0, Culture=neutral, PublicKeyToken=f43e0188197ab34e\"]},\"creationDate\":\"2014-11-11T11:19:06.153Z\",\"isImportant\":false,\"messageId\":2517,\"messageStatus\":\"sent\",\"templateName\":\"AccountBalanceNotification\"},{\"bodyMetadata\":{\"extendedProperties\":{\"productNumber\":\"003106853222\",\"availableBalance\":5706.94},\"fullQualifiedName\":\"Infocorp.Framework.BusinessEntities.Messaging.MessageMetadata, Infocorp.Framework.BusinessEntities, Version=1.0.0.0, Culture=neutral, PublicKeyToken=f43e0188197ab34e\",\"knownTypes\":[\"Infocorp.Framework.BusinessEntities.Messaging.BaseMetadata, Infocorp.Framework.BusinessEntities, Version=1.0.0.0, Culture=neutral, PublicKeyToken=f43e0188197ab34e\"]},\"creationDate\":\"2014-11-12T11:19:04.483Z\",\"isImportant\":false,\"messageId\":2520,\"messageStatus\":\"sent\",\"templateName\":\"AccountBalanceNotification\"},{\"bodyMetadata\":{\"extendedProperties\":{\"productNumber\":\"003106853222\",\"availableBalance\":5692.94},\"fullQualifiedName\":\"Infocorp.Framework.BusinessEntities.Messaging.MessageMetadata, Infocorp.Framework.BusinessEntities, Version=1.0.0.0, Culture=neutral, PublicKeyToken=f43e0188197ab34e\",\"knownTypes\":[\"Infocorp.Framework.BusinessEntities.Messaging.BaseMetadata, Infocorp.Framework.BusinessEntities, Version=1.0.0.0, Culture=neutral, PublicKeyToken=f43e0188197ab34e\"]},\"creationDate\":\"2014-11-13T15:21:33.59Z\",\"isImportant\":false,\"messageId\":2523,\"messageStatus\":\"sent\",\"templateName\":\"AccountBalanceNotification\"}],\"count\":28}";
    }
}
